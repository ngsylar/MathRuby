def combine_anagrams (words)
    anagrams = []                                       # array com anagramas combinados
    words.each_with_index do |word, i|                  # para cada palavra
        combination = [] << word                        # insere palavra atual numa combinação
        nextwords = words[ (i+1)..(words.size-1) ]      # próximas palavras
        nextwords.each_with_index do |nextword, j|      # para cada palavra seguinte
            if word.chars.sort == nextword.chars.sort
                combination << nextword
                words.delete_at(j)                      # bug aqui, deletando elementos errados
            end
        end 
        anagrams << combination
    end
    anagrams
end

p combine_anagrams(['cars', 'for', 'potatoes', 'racs', 'four','scar', 'creams', 'scream']) # => output: [["cars", "racs", "scar"], ["four"], ["for"], ["potatoes"], ["creams", "scream"]]
